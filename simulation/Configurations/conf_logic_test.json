{
    "workstations": [
        { "hostname": "router", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"execute_raw_command", "args": {"command":"iptables -t nat -A POSTROUTING -o eth3 -j MASQUERADE"} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"install", "args": {"module":"nmap"} }
                                                    ] },
        { "hostname": "dvwa", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"install", "args": {"module":"nmap"} },
                                                    {"name":"install", "args": {"module":"firefox"} },
                                                    {"name":"install_dvwa", "args": {"":""} },
                                                    {"name":"configure_iptables", "args": {"":""} },
                                                    {"name":"rsyslog_cient", "args": {"ip_log_server":"10.122.1.11","log_files":["authentication","apache2","iptables"]} }
                                                    ] },
        { "hostname": "dns", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"dns_installation", "args": {"":""} },
                                                    {"name":"dns_resolve_name", "args": {"domain_name": "site-1.com",
                                                                                         "ip_resolution":"10.122.0.20",
                                                                                         "mail":""} },
                                                    {"name":"dns_resolve_name", "args": {"domain_name": "mail.boulangerie.local",
                                                                                         "ip_resolution":"10.122.1.12",
                                                                                         "mail":"true"} },
                                                    {"name":"dns_resolve_name", "args": {"domain_name": "boulangerie.local",
                                                                                        "ip_resolution":"10.122.1.10",
                                                                                        "mail":""} },
                                                    {"name":"dns_resolve_name", "args": {"domain_name": "workstation1.boulangerie.local",
                                                                                         "ip_resolution":"10.122.1.40",
                                                                                         "mail":""} },
                                                    {"name":"dns_resolve_name", "args": {"domain_name": "dvwa.com",
                                                                                         "ip_resolution":"10.122.1.15",
                                                                                         "mail":""} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "ldap", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"ldap_create_domaine","args": {"root_password":"my_password" ,
                                                                                           "domaine_name":"boulangerie.local",
                                                                                           "organization":"boulangerie",
                                                                                           "ip_log_server":"10.122.1.11"} },
                                                    {"name":"ldap_add_user", "args": {"hostname":"ldap_server", 
                                                                                      "username":"tgourmelen",
                                                                                      "objectClass":["top", "inetOrgPerson", "posixAccount"], 
                                                                                      "mail":"tgourmelen@boulangerie.local",
                                                                                      "sn":"Gourmelen",
                                                                                      "dn":"uid=tgourmelen,dc=boulangerie,dc=local",
                                                                                      "domain":"dc=boulangerie,dc=local",
                                                                                      "homeDirectory":"/home/tgourmelen",
                                                                                      "loginShell":"/bin/bash",
                                                                                      "password":"tgourmelen123",
                                                                                      "uidNumber":"1501",
                                                                                      "gidNumber":"101"} },
                                                    {"name":"ldap_add_user", "args": {"hostname":"ldap_server", 
                                                                                      "username":"cyrus",
                                                                                      "objectClass":["inetOrgPerson"], 
                                                                                      "mail":"",
                                                                                      "sn":"Cyrus",
                                                                                      "dn":"uid=cyrus,dc=boulangerie,dc=local",
                                                                                      "domain":"dc=boulangerie,dc=local",
                                                                                      "homeDirectory":"",
                                                                                      "loginShell":"",
                                                                                      "password":"cyrus123",
                                                                                      "uidNumber":"",
                                                                                      "gidNumber":""} },
                                                    {"name":"ldap_add_user", "args": {"hostname":"ldap_server", 
                                                                                      "username":"aquemat",
                                                                                      "objectClass":["top", "inetOrgPerson", "posixAccount"], 
                                                                                      "mail":"aquemat@boulangerie.local",
                                                                                      "sn":"Aquemat",
                                                                                      "dn":"uid=aquemat,dc=boulangerie,dc=local",
                                                                                      "domain":"dc=boulangerie,dc=local",
                                                                                      "homeDirectory":"/home/aquemat",
                                                                                      "loginShell":"/bin/bash",
                                                                                      "password":"aquemat123",
                                                                                      "uidNumber":"1502",
                                                                                      "gidNumber":"102"} },
                                                    {"name":"ldap_add_user", "args": {"hostname":"ldap_server", 
                                                                                        "username":"ogesny",
                                                                                        "objectClass":["top", "inetOrgPerson", "posixAccount"], 
                                                                                        "mail":"ogesny@boulangerie.local",
                                                                                        "sn":"Ogesny",
                                                                                        "dn":"uid=ogesny,dc=boulangerie,dc=local",
                                                                                        "domain":"dc=boulangerie,dc=local",
                                                                                        "homeDirectory":"/home/ogesny",
                                                                                        "loginShell":"/bin/bash",
                                                                                        "password":"ogesny123",
                                                                                        "uidNumber":"1502",
                                                                                        "gidNumber":"102"} },
                                                    {"name":"ldap_add_user", "args": {"hostname":"ldap_server", 
                                                                                        "username":"pdelesques",
                                                                                        "objectClass":["top", "inetOrgPerson", "posixAccount"], 
                                                                                        "mail":"pdelesques@boulangerie.local",
                                                                                        "sn":"Pdelesques",
                                                                                        "dn":"uid=pdelesques,dc=boulangerie,dc=local",
                                                                                        "domain":"dc=boulangerie,dc=local",
                                                                                        "homeDirectory":"/home/pdelesques",
                                                                                        "loginShell":"/bin/bash",
                                                                                        "password":"pdelesques123",
                                                                                        "uidNumber":"1502",
                                                                                        "gidNumber":"102"} }
                                                    ] },
        { "hostname": "hacker", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"install_web_server", "args": {"module":"apache2"} },
                                                    {"name":"push_sim_user", "args": {"users":["root"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    
                                                    ] },
        { "hostname": "elk", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"install", "args": {"module":"firefox"} },
                                                    {"name":"install_elk", "args": {"logstash":"true","elasticsearch":"true","kibana":"true",
                                                                                    "fqdn_host":"elk.boulangerie.local","ip_fqdn":"10.122.115.11","admin_name":"kadmin","admin_passwd":"kadmin123"} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "mail", "actions": [
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"install", "args": {"module":"nmap"} },
                                                    {"name":"ldap_client_config", "args": {"ldap_ip":"10.122.1.10", 
                                                                                           "base":"dc=boulangerie,dc=local", 
                                                                                           "uri":"uri ldap://boulangerie.local/", 
                                                                                           "ldap_admin":"cn=admin,dc=boulangerie,dc=local"} },
                                                    {"name":"mail_installation", "args": {"ldap_ip":"10.122.1.10", 
                                                                                          "ldap_domain":"boulangerie.local",
                                                                                          "ldap_dn":"dc=boulangerie,dc=local", 
                                                                                          "ldap_manager":"cn=admin,dc=boulangerie,dc=local", 
                                                                                          "ldap_manager_password":"my_password",
                                                                                          "ldap_port":"389",
                                                                                          "domain_name":"boulangerie.local",
                                                                                          "users_mailbox":["aquemat", "tgourmelen"]} },
                                                    {"name":"rsyslog_cient", "args": {"ip_log_server":"10.122.1.11","log_files":["mail","authentication"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "workstation1", "actions": [  
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"ldap_client_config", "args": {"ldap_ip":"10.122.1.10", 
                                                                                           "base":"dc=boulangerie,dc=local", 
                                                                                           "uri":"uri ldap://boulangerie.local/", 
                                                                                           "ldap_admin":"cn=admin,dc=boulangerie,dc=local"} },
                                                    {"name":"install_postfix", "args": {"ldap_ip":"10.122.1.10", 
                                                                                        "ldap_domain":"boulangerie.local",
                                                                                        "ldap_dn":"dc=boulangerie,dc=local",
                                                                                        "ldap_manager":"cn=admin,dc=boulangerie,dc=local", 
                                                                                        "ldap_manager_password":"my_password",
                                                                                        "ldap_port":"389",
                                                                                        "domain_name":"boulangerie.local"} },
                                                    {"name":"rsyslog_cient", "args": {"ip_log_server":"10.122.1.11","log_files":["authentication"]} },
                                                    {"name":"push_sim_user", "args": {"users":["aquemat"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "workstation2", "actions": [  
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"ldap_client_config", "args": {"ldap_ip":"10.122.1.10", 
                                                                                            "base":"dc=boulangerie,dc=local", 
                                                                                            "uri":"uri ldap://boulangerie.local/", 
                                                                                            "ldap_admin":"cn=admin,dc=boulangerie,dc=local"} },
                                                    {"name":"rsyslog_cient", "args": {"ip_log_server":"10.122.1.11","log_files":["authentication"]} },
                                                    {"name":"push_sim_user", "args": {"users":["tgourmelen"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "workstation3", "actions": [  
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"ldap_client_config", "args": {"ldap_ip":"10.122.1.10", 
                                                                                            "base":"dc=boulangerie,dc=local", 
                                                                                            "uri":"uri ldap://boulangerie.local/", 
                                                                                            "ldap_admin":"cn=admin,dc=boulangerie,dc=local"} },
                                                    {"name":"rsyslog_cient", "args": {"ip_log_server":"10.122.1.11","log_files":["authentication"]} },
                                                    {"name":"push_sim_user", "args": {"users":["ogesny"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "workstation4", "actions": [  
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"ldap_client_config", "args": {"ldap_ip":"10.122.1.10", 
                                                                                            "base":"dc=boulangerie,dc=local", 
                                                                                            "uri":"uri ldap://boulangerie.local/", 
                                                                                            "ldap_admin":"cn=admin,dc=boulangerie,dc=local"} },
                                                    {"name":"rsyslog_cient", "args": {"ip_log_server":"10.122.1.11","log_files":["authentication"]} },
                                                    {"name":"push_sim_user", "args": {"users":["pdelesques"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] },
        { "hostname": "workstation5", "actions": [  
                                                    {"name":"update", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"8.8.8.8"} },
                                                    {"name":"push_sim_user", "args": {"users":["root"]} },
                                                    {"name":"clear_nameserver", "args": {"":""} },
                                                    {"name":"add_nameserver", "args": {"nameserver_ip":"10.122.0.12"} }
                                                    ] }
    ]
}
